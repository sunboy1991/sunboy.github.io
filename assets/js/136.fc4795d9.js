(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{450:function(e,t,r){"use strict";r.r(t);var a=r(27),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"canvas基础"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#canvas基础"}},[e._v("#")]),e._v(" Canvas基础")]),e._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#简介"}},[e._v("简介")])]),r("li",[r("a",{attrs:{href:"#相关接口"}},[e._v("相关接口")]),r("ul",[r("li",[r("a",{attrs:{href:"#htmlcanvaselement"}},[e._v("HTMLCanvasElement")])]),r("li",[r("a",{attrs:{href:"#canvasrenderingcontext2d"}},[e._v("CanvasRenderingContext2D")])]),r("li",[r("a",{attrs:{href:"#canvasgradient"}},[e._v("CanvasGradient")])]),r("li",[r("a",{attrs:{href:"#canvaspattern"}},[e._v("CanvasPattern")])]),r("li",[r("a",{attrs:{href:"#imagedata"}},[e._v("ImageData")])]),r("li",[r("a",{attrs:{href:"#imagebitmap"}},[e._v("ImageBitmap")])]),r("li",[r("a",{attrs:{href:"#textmetrics"}},[e._v("TextMetrics")])])])])])]),r("p"),e._v(" "),r("h2",{attrs:{id:"简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[e._v("#")]),e._v(" 简介")]),e._v(" "),r("p",[r("code",[e._v("<canvas>")]),e._v("是html5的新推出的标签，兼容性IE9+，移动端全兼容。是一个可以让javascript支持绘图的容器。常用于网页图表、网页特效、网页游戏等。在此之前，以上功能均需要flash插件来完成，相比之下，"),r("code",[e._v("<canvas>")]),e._v("更加安全与友好。")]),e._v(" "),r("p",[r("code",[e._v("<canvas>")]),e._v("提供了2d图形图像的绘制功能、也提供了调用显卡底层api绘制的功能（即webgl）。为了行文方便，本章所指的"),r("code",[e._v("canvas")]),e._v("统统代指2d图形图像绘制功能。webgl方面的功能，请参阅WebGL章节。")]),e._v(" "),r("p",[e._v("因为同样使用浏览器技术开发，微信小程序、微信小游戏、安卓快应用等等其他小程序都支持"),r("code",[e._v("canvas")]),e._v("。因此用"),r("code",[e._v("canvas")]),e._v("开发的功能具有十分良好的跨平台性")]),e._v(" "),r("h2",{attrs:{id:"相关接口"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#相关接口"}},[e._v("#")]),e._v(" 相关接口")]),e._v(" "),r("h3",{attrs:{id:"htmlcanvaselement"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#htmlcanvaselement"}},[e._v("#")]),e._v(" HTMLCanvasElement")]),e._v(" "),r("p",[e._v("在浏览器文档对象模型（DOM）里，操作与使用"),r("code",[e._v("canvas")]),e._v("标签是通过"),r("code",[e._v("HTMLCanvasElement")]),e._v("这个接口来实现的。该接口的获取方式与获取、创建一般DOM节点的方式相同。\n除了继承自"),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("HTMLElement")]),r("OutboundLink")],1),e._v("的属性和方法外，"),r("code",[e._v("HTMLCanvasElement")]),e._v("有以下几个属性、方法和事件:")]),e._v(" "),r("h4",{attrs:{id:"属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[e._v("#")]),e._v(" 属性")]),e._v(" "),r("ul",[r("li",[e._v("width")]),e._v(" "),r("li",[e._v("height")])]),e._v(" "),r("h4",{attrs:{id:"方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[e._v("#")]),e._v(" 方法")]),e._v(" "),r("ul",[r("li",[e._v("getContext()")]),e._v(" "),r("li",[e._v("toDataURL()")]),e._v(" "),r("li",[e._v("toBlob()")])]),e._v(" "),r("h4",{attrs:{id:"事件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[e._v("#")]),e._v(" 事件")]),e._v(" "),r("ul",[r("li",[e._v("webglcontextcreationerror")]),e._v(" "),r("li",[e._v("webglcontextlost")]),e._v(" "),r("li",[e._v("webglcontextrestored")])]),e._v(" "),r("p",[e._v("具体的含义和使用请参考"),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("HTMLCanvasElement")]),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[e._v("值得注意的是属性中的"),r("code",[e._v("width")]),e._v("和"),r("code",[e._v("height")]),e._v("，很多人会将其与CSS中的"),r("code",[e._v("width")]),e._v("和"),r("code",[e._v("height")]),e._v("属性混淆，实际上它们与CSS中的属性毫不相干。"),r("code",[e._v("HTMLCanvasElement")]),e._v("中的"),r("code",[e._v("width/height")]),e._v("是表示内容的宽高，而CSS中的"),r("code",[e._v("width/height")]),e._v("是"),r("code",[e._v("<canvas>")]),e._v("这个容器的宽高。")]),e._v(" "),r("p",[e._v("在js绘制中，画布区域坐标以"),r("code",[e._v("HTMLCanvasElement")]),e._v("中的"),r("code",[e._v("width/height")]),e._v("属性为参考。而在html布局中，以CSS中的"),r("code",[e._v("width/height")]),e._v("属性为标准，当CSS中这两个属性缺失时，才会使用"),r("code",[e._v("HTMLCanvasElement")]),e._v("的"),r("code",[e._v("width/height")]),e._v("属性作为宽高去布局。")]),e._v(" "),r("hr"),e._v(" "),r("h3",{attrs:{id:"canvasrenderingcontext2d"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#canvasrenderingcontext2d"}},[e._v("#")]),e._v(" CanvasRenderingContext2D")]),e._v(" "),r("p",[r("code",[e._v("CanvasRenderingContext2D")]),e._v("是canvas绘制的核心接口。通过"),r("code",[e._v("HTMLCanvasElement.getContext('2d')")]),e._v("获得。常用属性和方法：")]),e._v(" "),r("h4",{attrs:{id:"属性-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性-2"}},[e._v("#")]),e._v(" 属性")]),e._v(" "),r("p",[e._v("全局属性")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/globalAlpha",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("globalAlpha")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("globalCompositeOperation")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("绘制相关")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillStyle",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("fillStyle")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/strokeStyle",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("strokeStyle")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("线条相关")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineCap",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("lineCap")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineDashOffset",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("lineDashOffset")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineJoin",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("lineJoin")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineWidth",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("lineWidth")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("阴影相关")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowBlur",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("shadowBlur")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowColor",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("shadowColor")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowOffsetX",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("shadowOffsetX")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowOffsetY",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("shadowOffsetY")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("文本")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/font",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("font")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/textAlign",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("textAlign")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/textBaseline",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("textBaseline")]),r("OutboundLink")],1)])]),e._v(" "),r("h4",{attrs:{id:"方法-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方法-2"}},[e._v("#")]),e._v(" 方法")]),e._v(" "),r("p",[e._v("状态相关")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/save",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("save()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/restore",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("restore()")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("变换相关")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/transform",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("transform()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/translate",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("translate()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/rotate",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("rotate()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/scale",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("scale()")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("路径相关")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/beginPath",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("beginPath()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/closePath",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("closePath()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/arc",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("arc()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/rect",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("rect()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/ellipse",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("ellipse()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/moveTo",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("moveTo()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineTo",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("lineTo()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/arcTo",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("arcTo()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/bezierCurveTo",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("bezierCurveTo()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("quadraticCurveTo()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/clip",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clip()")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("绘制相关")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/clearRect",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clearRect()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fill",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("fill()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillRect",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("fillRect()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillText",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("fillText()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/stroke",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("stroke()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/strokeRect",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("strokeRect()")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/strokeText",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("strokeText()")]),r("OutboundLink")],1)])]),e._v(" "),r("hr"),e._v(" "),r("h3",{attrs:{id:"canvasgradient"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#canvasgradient"}},[e._v("#")]),e._v(" CanvasGradient")]),e._v(" "),r("p",[r("code",[e._v("CanvasGradient")]),e._v("是canvas用来创建渐变填充色的接口，可以将其赋予"),r("code",[e._v("CanvasRenderingContext2D.fillStyle")]),e._v("或者"),r("code",[e._v("CanvasRenderingContext2D.strokeStyle")]),e._v("，使路径填充上或者使路径边框描绘上特定的渐变色彩。")]),e._v(" "),r("p",[r("code",[e._v("CanvasGradient")]),e._v("通过"),r("code",[e._v("CanvasRenderingContext2D.createLinearGradient()")]),e._v("可以创建一个线性渐变模型，通过"),r("code",[e._v("CanvasRenderingContext2D.createRadialGradient()")]),e._v("可以创建一个径向渐变模型。")]),e._v(" "),r("h4",{attrs:{id:"方法-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方法-3"}},[e._v("#")]),e._v(" 方法")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasGradient/addColorStop",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("addColorStop")]),r("OutboundLink")],1)])]),e._v(" "),r("hr"),e._v(" "),r("h3",{attrs:{id:"canvaspattern"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#canvaspattern"}},[e._v("#")]),e._v(" CanvasPattern")]),e._v(" "),r("p",[r("code",[e._v("CanvasPattern")]),e._v("是canvas用来创建重复性填充内容的接口，可以将其赋予"),r("code",[e._v("CanvasRenderingContext2D.fillStyle")]),e._v("或者"),r("code",[e._v("CanvasRenderingContext2D.strokeStyle")]),e._v("，使路径填充上或者使路径边框描绘上重复的图案。")]),e._v(" "),r("p",[r("code",[e._v("CanvasPattern")]),e._v("通过"),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/createPattern",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("CanvasRenderingContext2D.createPattern()")]),r("OutboundLink")],1),e._v("方法创建。")]),e._v(" "),r("hr"),e._v(" "),r("h3",{attrs:{id:"imagedata"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#imagedata"}},[e._v("#")]),e._v(" ImageData")]),e._v(" "),r("p",[r("code",[e._v("ImageData")]),e._v("接口表示了"),r("code",[e._v("<canvas>")]),e._v("某个区域的像素数据。可以使用构造函数"),r("code",[e._v("ImageData()")]),e._v("构建一个新的"),r("code",[e._v("ImageData")]),e._v("对象，也可以使用"),r("code",[e._v("CanvasRenderingContext2D.getImageData")]),e._v("或"),r("code",[e._v("CanvasRenderingContext2D.createImageData")]),e._v("这两个方法获取。")]),e._v(" "),r("p",[e._v("在不熟悉webgl的像素操作前，对于需要像素操作的需求，可以使用这个接口获取的底层的像素数据，然后遍历操作具体像素。")]),e._v(" "),r("p",[e._v("也可以用于canvas具体的事件触发对象的判断中。通过给不同的绘制物体填充上不同的颜色，事件触发时，获取事件触发坐标上那个像素的颜色，即可知道当前事件触发对象是哪个物体。")]),e._v(" "),r("h4",{attrs:{id:"属性-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性-3"}},[e._v("#")]),e._v(" 属性")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData/data",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("data")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData/height",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("height")]),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData/width",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("width")]),r("OutboundLink")],1)])]),e._v(" "),r("hr"),e._v(" "),r("h3",{attrs:{id:"imagebitmap"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#imagebitmap"}},[e._v("#")]),e._v(" ImageBitmap")]),e._v(" "),r("p",[r("code",[e._v("ImageBitmap")]),e._v("是浏览器提供的一个能被绘制到"),r("code",[e._v("<canvas>")]),e._v("的位图对象，相比普通的"),r("code",[e._v("HTMLImageElement")]),e._v("或者"),r("code",[e._v("HTMLVideoElement")]),e._v("等其他可绘制到"),r("code",[e._v("<canvas>")]),e._v("上的对象，"),r("code",[e._v("ImageBitmap")]),e._v("具有更低的延迟性和更高的性能。")]),e._v(" "),r("p",[e._v("而且，"),r("code",[e._v("ImageBitmap")]),e._v("可以从各种位图源中提取数据，除了上文的"),r("code",[e._v("HTMLImageElement")]),e._v("或者"),r("code",[e._v("HTMLVideoElement")]),e._v("两个对象外，还可以从"),r("code",[e._v("SVGImageElement")]),e._v("、"),r("code",[e._v("HTMLCanvasElement")]),e._v("、"),r("code",[e._v("Blob")]),e._v("、"),r("code",[e._v("ImageData")]),e._v("、"),r("code",[e._v("ImageBitmap")]),e._v("等对象中提取位图数据，来作为canvas绘制图案、或者webgl的纹理。")]),e._v(" "),r("p",[r("code",[e._v("ImageBitmap")]),e._v("通过全局方法"),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/createImageBitmap",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("createImageBitmap()")]),r("OutboundLink")],1),e._v("创建")]),e._v(" "),r("blockquote",[r("p",[e._v("注意，目前已知blink内核浏览器支持这个对象，至于小程序或者小游戏等其他平台环境是否支持，请翻阅改平台环境的API文档调查后再使用。")])]),e._v(" "),r("hr"),e._v(" "),r("h3",{attrs:{id:"textmetrics"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#textmetrics"}},[e._v("#")]),e._v(" TextMetrics")]),e._v(" "),r("p",[r("code",[e._v("TextMetrics")]),e._v("接口用来表示文本尺寸，通过"),r("code",[e._v("CanvasRenderingContext2D.measureText()")]),e._v("方法创建。")]),e._v(" "),r("h4",{attrs:{id:"属性-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性-4"}},[e._v("#")]),e._v(" 属性")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/TextMetrics/width",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("width")]),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);