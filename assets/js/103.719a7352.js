(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{561:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"react部件构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react部件构建"}},[t._v("#")]),t._v(" react部件构建")]),t._v(" "),a("p",[t._v("使用 react 开发的项目一般在我们公司前端开发里面都是属于那些大型的需要长期维护的项目，自然，一个页面也简单不到那里去。页面设计一复杂，构建页面的代码就复杂起来，所有结构功能统统堆在一个类里面，这就导致了后期维护十分难受。\n因此，部件的出现，纯粹是为了将页面庞大的代码进行拆分，减少阅读页面代码、维护页面代码的复杂度。但是需要注意的是，部件的构建必须严格按照页面的布局结构去拆分构建，不能随意东拼西凑。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Game/List/header.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SHeader")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("header"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*这里省去200行代码*/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("header"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Game/List/index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SHeader "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./header.js"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PGameList")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PGameList"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SHeader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SNav"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SSearch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SList"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SFooter"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("如上面的例子所示，假设一个页面里面的 header 很复杂至少有 200 行堆在里面，那你把它拆出去之后成为一个 SHeader 部件，页面结构瞬间简单起来了，如果哪个地方需要修改或者出现 bug，你可以迅速定位到具体的文件里面去修改而不用怕影响了其他部分的逻辑。")]),t._v(" "),a("p",[t._v("同时，部件是作为组成页面的一部分，可以跟页面一样，在内部处理业务逻辑，而组件、元件、模块不行，这一点很容易将他与其他概念区分开来。\n部件一般与页面同目录存放:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Game \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏模块目录")]),t._v("\n│    index.js \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 模块入口文件，分发子路由")]),t._v("\n├─── List \t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页目录")]),t._v("\n│         index.js  \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页文件")]),t._v("\n│         header.js  \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页头部部件文件")]),t._v("\n│         footer.js  \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页底部部件文件")]),t._v("\n│         list.js  \t    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页列表部件文件")]),t._v("\n│         nav.js  \t    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页导航部件文件")]),t._v("\n│         search.js  \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页搜索部件文件")]),t._v("\n├─── Detail \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏详情页目录")]),t._v("\n│         index.js  \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页文件")]),t._v("\n└─── Comment \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏评论页目录")]),t._v("\n          index.js  \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 游戏列表页文件")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);