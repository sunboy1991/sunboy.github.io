# 实践技巧：列表渲染要拆分出去

jsx 没有 vue 模板语法那么好用的 v-for 属性来保存 xml 的结构性，它最开始的设计想法很简单，你在 jsx 里面使用数组，它自己就帮你展开渲染了。但是事实是:

```javascript
// 其最初的设计
var a=[<Component key="1"/>,<Component key="2"/>,<Component key="3"/>]
...
<div>{a}</div>

// 但是现在...
<div>
	{dataList.map((item,index)=>
		<Component key={index} data={item}/>
	)}
</div>
```

我们很习惯就拿一个数组直接在 jsx 里面使用 map。这样不是说不好，而是还是同样的原则，代码量少无所谓。但是，

-   代码量大
-   嵌套层数深
-   不能一行写完的
    
符合以上条件的都需要将列表渲染拆分出来。

```javascript
// good
render(){
	return (
		<ul>
			{dataList.map((item,index)=><li key={index}>{item}</li>)}
		</ul>
	)
}

// bad
render(){
	return (
		<ul>
			{dataList.map((item,index)=>(
				<li key={index}>
					<img src={item.url}/>
					<p>{item.name}</p>
				</li>
			))}
		</ul>
	);
}

//good
render(){
	return (
		<ul>{this.renderList()}</ul>
	)
}

renderList(){
	return dataList.map((item,index)=>
		<li key={index}>
			<img src={item.url}/>
			<p>{item.name}</p>
		</li>
	)
}
```
